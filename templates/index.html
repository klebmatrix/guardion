<!DOCTYPE html>
<html>
<head>
    <title>Agente Estratégico Multi</title>
    <style>
        body { background: #020617; color: #f8fafc; font-family: sans-serif; text-align: center; }
        .market-bar { background: #1e293b; padding: 10px; border-bottom: 2px solid #3b82f6; font-weight: bold; }
        .grid { display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; margin-top: 30px; }
        .card { background: #1e293b; border: 1px solid #3b82f6; padding: 20px; border-radius: 12px; width: 260px; }
        .qr-box { background: white; padding: 10px; display: inline-block; border-radius: 8px; margin: 15px 0; }
        .status-on { color: #10b981; animation: blink 2s infinite; }
        @keyframes blink { 0% {opacity: 1;} 50% {opacity: 0.5;} 100% {opacity: 1;} }
    </style>
</head>
<body>
    <div class="market-bar">BTC/USDC: <span id="btc-price">Carregando...</span></div>
    <h1>AGENTE MULTI-ENTRADA</h1>
    <p>O robô só executa a movimentação quando detecta saldo e condições favoráveis.</p>

    <div class="grid">
        {% for nome, carteira in modulos.items() %}
        <div class="card">
            <div class="status-on">● AGENTE {{ nome }} ONLINE</div>
            <div class="qr-box">
                <img src="/qr/{{ carteira }}" width="160">
            </div>
            <p><small>Deposite para Iniciar Entrada</small></p>
            <p style="font-size: 9px;">{{ carteira }}</p>
        </div>
        {% endfor %}
    </div>

    <script>
        // Atualiza o preço na tela para você acompanhar
        setInterval(async () => {
            const res = await fetch('https://api.binance.com/api/v3/ticker/price?symbol=BTCUSDT');
            const data = await res.json();
            document.getElementById('btc-price').innerText = '$' + parseFloat(data.price).toLocaleString();
        }, 5000);
    </script>
</body>
</html>